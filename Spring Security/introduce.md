# CIA, RSA, 세션, RFC 문서

### 인증을 세션으로 처리하는 방식의 문제점

- 기존 세션 방식은 서버가 하나일때만 유효 가능한 방식이다 현대 IT환경에서는 여러대의 서버를 운영하는 경우가 많고
  트래픽도 예전 방식과 비교 불가로 커졌기 때문에 이를 운용하는것이 꽤나 귀찮고 오버헤드가 큰 작업이 되었다(세션을 다른 서버들에게도 복사하거나 Sticky방식으로 세션을 유지한다거나 등)

이를 해결하기 위한 방식으로 크게 두가지 정도가 있는데

1. DB를 운용

- 모든 서버가 하나의 DB를 이용해 세션 대신 저장소를 쓰는 것이다. 하지만 메모리 기반인 세션에 비해 I/O Cost가 지나치게 많이 든다는 점이 문제점이다.

2. 메모리 기반 DB Redis

- 빠른 접근과 더불어 세션의 문제점인 공유가 불가능하다는 점도 해결한 각광 받는 방식

### CIA

- 서버와 클라이언트가 통신하는 것은 이 세가지가 엄수(정보 보안) 되어야 한다.

1. Confidentiality : 기밀성

- 통신을 할 때 어느 누구도 데이터에 대한 부적절한 접근을 허용해서는 안된다.
  정보를 오직 인가된 사용자에게만 허가하는 것으로
  이를 해결하기 위해 데이터를 암호화 하는 것이 필요하다.

2. Integrity : 무결성

- 통신 데이터를 바꿔치기 한다거나 변경 하는 일 없이 온전한 데이터가 전해져야 된다.
  이를 해결하기 위해 데이터를 보낸 의뢰인의 정보가 필요하다.

3. Availability: 가용성

- 의뢰인은 신뢰할 수 있는 데이터에 접근하여 사용할 수 있어야 한다.

이 세가지 특성을 지키기 위해 RSA 방식이 등장했다.

### RSA 방식

RSA 방식은 두 개 키쌍으로 데이터를 암호화 및 복호화 하는 방식이다.
위에서 언급했던 CIA는 두 가지를 신경써야하는데

첫 번째 데이터를 암호화 한 것을 복호화 할 수 있는 Key를 어떻게 전달할 것인가
두 번째 어떻게 누가 보낸 데이터인지 확인 할 수 있는가이다.

RSA는 이를 공개키와 개인키로 해결하는데

공개키로 암호화하거나 개인키로 암호화 할 수 있다.

1. 공개키로 암호화 하는 경우 - 공개키는 누구나 볼 수 있게 공개하며 오직 공개키를 공개한 자신만 개인키로 복호화 할 수 있다.
   따라서 보내고자 하는 특정 클라이언트의 공개키로 암호화 하면 클라이언트의 개인키로만 복호화 할 수 있기 때문에 key를 전달하지 않는 방식이라 안전하다.
   (첫 번째 문제 해결)
2. 개인키로 암호화 하는 경우 - 개인키는 누구나 볼 수 없는 자신의 키이기 때문에 복호화로 쓰이는 공개키로만 복호화 가능하고 만약 보낸이의 공개키로 복호화 가능 하다면
   보낸이의 신원이 특정되기 때문에 인증에 쓰인다. (두 번째 문제 해결)

### RFC 문서

벨 연구소에서 다른 대학과 통신하기 위해 만든 규약 문서(http) 이러한 문서들이 다른 대학 혹은 다른 서버와 확장되어서 만들어진 것이 www(월드 와이드 웹)
처음에는 작은 규약이었으나 점점 커져서 현재의 웹이 되었다.

RFC 7519 - JWT
